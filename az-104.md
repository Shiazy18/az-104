# AZ 104 Notes 

## Manage Azure identities and governance

in a free Microsoft Entra ID tenant, you can only assign licenses to individual users like User1. Group-based licensing (for Group1 or Group2) requires a paid version of Microsoft Entra ID (such as P1 or P2).

SSPR can be directly assigned only to a group of users or to ALL users but not to individual users. 
    in order to configure Self-Service Password Reset (SSPR) in Microsoft Entra, a user must have at least the Authentication Policy Administrator role.
    Self-Service Password Reset (SSPR) can be enabled for security groups and Microsoft 365 groups.

## Deploy and manage Azure compute resources

To ensure that you can push and pull signed container images in ContReg1, you need to enable content trust. Content trust ensures that the integrity of the images is maintained by verifying that the images are signed and have not been tampered with. This allows only trusted and signed images to be pushed and pulled from the registry.

Azure Container Instances support only Linux and Windows containers, but for multi-container groups, all containers must be based on the same OS type. 

## Implement and manage storage

Azure Storage accounts support a maximum of 5 stored access policies per container.
Azure Storage accounts support a maximum of 2 immutable blob storage policies per container.

'`azcopy copy`' command is used to upload files from an on-premises folder to an Azure Storage container. 
`az storage blob` copy start is intended for copying blobs within Azure Storage
`azcopy sync` is used to synchronize files between a local folder and a storage container, rather
`az storage blob` copy start-batch is designed for batch copying blobs within Azure Storage,

the net use command relies on the SMB (Server Message Block) protocol, which only supports authentication using the Azure Storage account key for access to Azure File Shares.

when using `customer-managed keys` with Azure Storage, the service supports `RSA keys` for encryption stored in Azure Key Vault.
`AES` is commonly used for encryption
`customer-managed keys` stored in Azure Key Vault, the maximum supported bit length for RSA encryption keys is `4096` bits.

`App Service` backups do not use Backup vaults; they rely on Azure Storage accounts.
`Recovery Services vaults` are used for Azure Backup and Azure Site Recovery, not for App Service backups.

Azure App Service, you can exclude specific files or folders from a backup by creating a _backup.filter file in the root directory of the app.
WebJobs are used to run background tasks in Azure App Service,

`Azure Files` provides a fully managed SMB file share that can be mounted by Azure container instances as persistent storage. This is essential for scenarios like running Microsoft SQL Server in a container, where data needs to persist across container restarts. However, it is important to note that volume mounting, including Azure Files, is currently only supported for Linux-based Azure container instances. Therefore, this solution assumes that Image1 is a Linux container image running SQL Server for Linux (which is fully supported).

`Azure's availability zones` are designed to protect against datacenter-level failures, providing high availability by distributing resources across multiple zones within a region.


## Implement and manage virtual networking

`Application Gateway` manages HTTP/S traffic to web applications, not private connectivity between a web app and a VM in a virtual network.
`load balancer` manages traffic distribution but does not enable direct network connectivity between web apps and VMs.

In a `proximity placement group`, all resources are logically grouped to minimize latency by ensuring they are located within the same data center. Proximity placement groups are specific to a region and must be within a single resource group. Furthermore, each proximity placement group is associated with only one Azure Resource Group.

To create a `staging slot `for an Azure App Service plan, it must be in the Standard, Premium, or higher pricing tier. Since staging slots are not available for the Free, Shared, or Basic tiers, the solution here is to scale up Plan1 to a tier that supports deployment slots.


